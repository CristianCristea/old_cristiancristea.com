!function(){"use strict";function e(e,t){if(t)var n=Math.floor(e/3600),e=e-3600*n;var u=("0"+Math.floor(e/60)).slice(-2),e=("0"+parseInt(e%60,10)).slice(-2);if(t)var l=n+":"+u+":"+e;else var l=u+":"+e+" /";return l}function t(e){if(!e||!e.indexOf(":"))return 0;var t=e.split(":");return 60*+t[0]+ +t[1]}var n=(!!document.createElement("video").canPlayType,document.getElementById("videoContainer")),u=document.getElementById("video"),l=document.getElementById("video-controls");u.controls=!1,l.setAttribute("data-state","visible");var a=document.getElementById("playpause"),r=document.getElementById("stop"),c=document.getElementById("mute"),i=document.getElementById("volinc"),d=document.getElementById("voldec"),o=document.getElementById("progress"),s=document.getElementById("progress-bar"),m=document.getElementById("fs"),f=(document.getElementById("subtitles"),!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled||document.createElement("video").webkitRequestFullScreen));f||(m.style.display="none");var v=function(e){if(e){var t=Math.floor(10*u.volume)/10;"+"===e?t<1&&(u.volume+=.1):"-"===e&&t>0&&(u.volume-=.1),t<=0?u.muted=!0:u.muted=!1}b("mute")},h=function(e){v(e)},p=function(e){n.setAttribute("data-fullscreen",!!e),m.setAttribute("data-state",e?"cancel-fullscreen":"go-fullscreen")},E=function(){return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},g=function(){E()?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),p(!1)):(n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullScreen?u.webkitRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen(),p(!0))};if(document.addEventListener){u.addEventListener("loadedmetadata",function(){o.setAttribute("max",u.duration)});var b=function(e){"playpause"==e?u.paused||u.ended?a.setAttribute("data-state","play"):a.setAttribute("data-state","pause"):"mute"==e&&c.setAttribute("data-state",u.muted?"unmute":"mute")};u.addEventListener("play",function(){b("playpause")},!1),u.addEventListener("pause",function(){b("playpause")},!1),u.addEventListener("volumechange",function(){v()},!1),a.addEventListener("click",function(e){$(I).removeClass("highlight"),u.paused||u.ended?u.play():u.pause()}),r.addEventListener("click",function(e){u.pause(),u.currentTime=0,o.value=0,b("playpause")}),c.addEventListener("click",function(e){u.muted=!u.muted,b("mute")}),i.addEventListener("click",function(e){h("+")}),d.addEventListener("click",function(e){h("-")}),fs.addEventListener("click",function(e){g()}),u.addEventListener("timeupdate",function(){o.getAttribute("max")||o.setAttribute("max",u.duration),o.value=u.currentTime,s.style.width=Math.floor(u.currentTime/u.duration*100)+"%"}),o.addEventListener("click",function(e){$(I).removeClass("highlight");var t=(e.pageX-(this.offsetLeft+this.offsetParent.offsetLeft+this.offsetParent.offsetParent.offsetLeft))/this.offsetWidth;u.currentTime=t*u.duration})}var y=$("button.hide"),F=$("#videoContainer"),L=$(".controls");$('figure[data-fullscreen="true"]').children(".controls");F.mouseenter(function(){y.fadeIn(400),L.animate({bottom:"50px"},400)}),F.mouseleave(function(){y.fadeOut(400),L.animate({bottom:"20px"},400)});var k=$("#video");k.on("timeupdate",function(){$("#current").html(e(k[0].currentTime)),$("#duration").html(e(k[0].duration))});var I=$("span[data-start]"),S=0,C=e(u.currentTime);$.each(I,function(){var e=$(I[S]).attr("data-start"),t=parseFloat(e);C>=t?$(I[S]).addClass("highlight"):$(I[S]).removeClass("highlight"),S++}),u.addEventListener("timeupdate",function(){for(S=0;S<I.length;S++)t($(I[S]).attr("data-start"))==Math.floor(u.currentTime)&&(0===S?$(I[S]).addClass("highlight"):($(I[S-1]).removeClass("highlight"),$(I[S]).addClass("highlight")))})}();